{"version":3,"sources":["App.js","index.js"],"names":["App","useState","lists","setLists","listName","setlistName","renderUrl","setRenderUrl","clickedList","setClickedList","listItems","setListItems","editUrl","setEditUrl","editListActive","setEditListActive","deleteUrl","setDeleteUrl","isListClicked","setIsListClicked","itemName","setItemName","postItemUrl","setPostItemUrl","editItemUrl","setEditItemUrl","deleteItemUrl","setDeleteItemUrl","editItemActive","setEditItemActive","temporaryListName","setTemporaryListName","handleChange","e","target","value","handleListClick","currListName","escape","textContent","handleEditList","prevValue","handleDeleteList","handleItemChange","handleEditItem","handleDeleteItem","axios","defaults","baseURL","useEffect","get","then","response","data","res","name","items","delete","catch","error","console","log","className","style","paddingLeft","zoom","map","list","index","paddingBottom","onClick","marginRight","background","border","textDecoration","cursor","onSubmit","preventDefault","post","patch","marginBottom","type","onChange","placeholder","display","item","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.20612f0d.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n\r\n  const [lists, setLists] = useState([]); //read lists\r\n  const [listName, setlistName] = useState(''); //create & edit list\r\n  const [renderUrl, setRenderUrl] = useState('');\r\n  const [clickedList, setClickedList] = useState('');\r\n  const [listItems, setListItems] = useState([]); //read list items\r\n  const [editUrl, setEditUrl] = useState('');\r\n  const [editListActive, setEditListActive] = useState(false); //if editing input is active\r\n  const [deleteUrl, setDeleteUrl] = useState('');\r\n  const [isListClicked, setIsListClicked] = useState(false);\r\n  const [itemName, setItemName] = useState('');\r\n  const [postItemUrl, setPostItemUrl] = useState('');\r\n  const [editItemUrl, setEditItemUrl] = useState('');\r\n  const [deleteItemUrl, setDeleteItemUrl] = useState('');\r\n  const [editItemActive, setEditItemActive] = useState(false);\r\n  const [temporaryListName, setTemporaryListName] = useState('');\r\n\r\n\r\n  axios.defaults.baseURL = 'https://shrouded-journey-60588.herokuapp.com/';\r\n\r\n  useEffect(() => {\r\n    //read lists\r\n    axios.get('/')\r\n      .then((response) => {\r\n        setLists(() => {\r\n          return [...response.data];\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  function handleChange(e) {\r\n    setlistName(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    //create & edit list\r\n    if (!editListActive && listName) {\r\n      axios.post(\r\n        '/lists',\r\n        {\r\n          name: listName\r\n        }\r\n      )\r\n        .then((response) => {\r\n          setLists(() => {\r\n            return [...response.data];\r\n          });\r\n          setlistName('');\r\n          setIsListClicked(false);\r\n        });\r\n    } else if(editUrl){\r\n\r\n      axios.patch('lists/' + editUrl,\r\n        {\r\n          name: listName\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n        .then((response) => {\r\n          setLists(() => {\r\n            return [...response.data];\r\n          });\r\n          setEditListActive(false);\r\n          setlistName('');\r\n          setIsListClicked(false);\r\n        });\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  function handleDeleteAllLists() {\r\n    //delete all lists\r\n    axios.delete('/lists')\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n      .then((response) => {\r\n        setLists(() => {\r\n          return [...response.data];\r\n        });\r\n\r\n        setIsListClicked(false);\r\n        if(clickedList === 'default list'){\r\n          setListItems([...response.data[0].items]);\r\n        }\r\n        setEditListActive(false);\r\n        setlistName('');\r\n      });\r\n  }\r\n\r\n\r\n  function handleListClick(e) {\r\n    let currListName = escape(e.target.textContent);\r\n    setRenderUrl(currListName);\r\n    setIsListClicked(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    //read list items\r\n    if(renderUrl !== ''){\r\n      axios.get('lists/' + renderUrl + '/items')\r\n      .then((res) => {\r\n        setClickedList(res.data.name);\r\n        if (res.data.items) {\r\n          setListItems([...res.data.items]);\r\n        }\r\n      });\r\n    }\r\n  }, [renderUrl]);\r\n\r\n\r\n  function handleEditList(e) {\r\n    setEditListActive((prevValue) => !prevValue);\r\n    handleChange(e);\r\n    setEditUrl(escape(e.target.value));\r\n  }\r\n\r\n\r\n\r\n  function handleDeleteList(e) {\r\n    setDeleteUrl(escape(e.target.value));\r\n  }\r\n\r\n  useEffect(() => {\r\n    //delete specific list\r\n    if (deleteUrl !== '') {\r\n      axios.delete('lists/' + deleteUrl)\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n        .then((response) => {\r\n          setLists(() => {\r\n            return [...response.data];\r\n          });\r\n          setIsListClicked(false);\r\n          setlistName('');\r\n          setEditListActive(false);\r\n        });\r\n    }\r\n  }, [deleteUrl]);\r\n\r\n\r\n\r\n  function handleItemChange(e) {\r\n    setItemName(e.target.value);\r\n    setPostItemUrl(escape(clickedList));\r\n  }\r\n\r\n  function handleItemSubmit(e) {\r\n    e.preventDefault();\r\n    //add new item\r\n\r\n    if (postItemUrl && !editItemActive ) {\r\n      axios.post('lists/' + postItemUrl + '/items',\r\n        {\r\n          name: itemName\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n        .then((response) => {\r\n          setListItems([...response.data.items]);\r\n          setItemName('');\r\n          setPostItemUrl('');\r\n        });\r\n    } else if(editItemUrl) {\r\n   \r\n      axios.patch('lists/' + editItemUrl,\r\n      {\r\n        name: itemName\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n      .then((response) => {\r\n        setListItems([...response.data[0].items]);\r\n        setClickedList(temporaryListName);\r\n        setEditItemUrl('');\r\n        setEditItemActive(false);\r\n        setItemName('');\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleEditItem(e) {\r\n    handleItemChange(e);\r\n    setEditItemUrl(escape(clickedList+\"/items/\"+e.target.value));\r\n    setEditItemActive(true);\r\n    setTemporaryListName(clickedList);\r\n  }\r\n\r\n\r\n\r\n  function handleDeleteItem(e) {\r\n    setDeleteItemUrl(escape(clickedList+\"/items/\"+e.target.value));\r\n  }\r\n\r\n  useEffect(() => {\r\n    //delete specific Item\r\n    if (deleteItemUrl !== '') {\r\n      axios.delete('lists/' + deleteItemUrl)\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n        .then((response) => {\r\n          setListItems([...response.data.items]);\r\n          setItemName('');\r\n          setEditItemActive(false);\r\n        });\r\n    }\r\n  }, [deleteItemUrl]);\r\n\r\n  function handleDeleteAllItems(){\r\n\r\n    axios.patch('lists/' + escape(clickedList) + '/items')\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n      .then((response) => {\r\n        setListItems([...response.data.items]);\r\n        setEditItemActive(false);\r\n        setItemName('');\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\" style={{paddingLeft: '1rem', zoom: '110%'}}>\r\n      <h1>TodoApp</h1>\r\n\r\n      <ul>\r\n        {lists.map((list, index) => {\r\n          return <li key={index} style={{ paddingBottom: '1rem' }}>\r\n            <button onClick={handleListClick} style={{ marginRight: '1rem', background: 'none', border: 'none', textDecoration: 'underline', cursor: 'pointer' }}>{list.name}</button>\r\n\r\n            {list.name !== 'default list' &&\r\n              <button value={list.name} onClick={handleEditList}>edit</button>}\r\n            {list.name !== 'default list' &&\r\n              <button value={list.name} onClick={handleDeleteList} >delete</button>}\r\n\r\n          </li>\r\n        })}\r\n      </ul>\r\n      <form onSubmit={handleSubmit} style={{ marginBottom: '1rem' }}>\r\n        <input type=\"text\" name=\"name\" onChange={handleChange} value={listName} placeholder=\"add new list\" />\r\n        <button type=\"submit\">ok</button>\r\n      </form>\r\n      <button onClick={handleDeleteAllLists}> delete all lists</button>\r\n      <div style={isListClicked === false ? { display: 'none' } : { display: 'block' }}>\r\n        <h2>{clickedList}</h2>\r\n        <ul>\r\n          {listItems.map((item, index) => {\r\n\r\n            return <li key={index} style={{ marginBottom: '1rem' }}> <span style={{ marginRight: '1rem' }}>{item.name}</span>\r\n              <button value={item.name} onClick={handleEditItem}>edit</button>\r\n              <button value={item.name} onClick={handleDeleteItem} >delete</button>\r\n            </li>\r\n\r\n          })}\r\n          \r\n        </ul>\r\n        <form onSubmit={handleItemSubmit} style={{ marginBottom: '1rem' }}>\r\n            <input type=\"text\" onChange={handleItemChange} value={itemName} placeholder=\"add new item\" />\r\n            <button type=\"submit\">+</button>\r\n          </form>\r\n          <button onClick={handleDeleteAllItems}> delete all items</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}